<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Congeal : A collection of type macros intended for making Cake pattern more manageable." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Congeal</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/sullivan-/congeal">View on GitHub</a>

          <h1 id="project_title">Congeal</h1>
          <h2 id="project_tagline">A collection of type macros intended for making Cake pattern more manageable.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/sullivan-/congeal/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/sullivan-/congeal/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>A collection of type macros intended for making Cake pattern more manageable.</p>

<p>The general idea of the type macros I want to implement here is described in my
blog post <a href="http://scabl.blogspot.com/2013/03/cbdi-2.html">Taming the Cake Pattern with Type
Macros</a>.</p>

<p>At the moment, congeal only builds against experimental "Kepler" branch of Scala.</p>

<p>Fair warning: one of the three kepler commits from Jun 02 &amp; Jun 03 broke my
tests. examples still run. i have a workaround in place until i have a
moment to address this. <a href="https://github.com/scalamacros/kepler/commits/master">https://github.com/scalamacros/kepler/commits/master</a></p>

<p>All macros require type <code>A</code> to be "simple", i.e., meet the following conditions:</p>

<ul>
<li>is a trait</li>
<li>is static (i.e., not a member of a method or trait. only objects all the way up.)</li>
<li>no non-private[this] inner classes</li>
<li>no members that have params or return types that derive from A</li>
</ul><p>Macros completed so far:</p>

<ul>
<li>api[A]</li>
<li>impl[A]</li>
<li>componentApi[A]</li>
<li>componentImpl[A]</li>
<li>hasDependency[A]</li>
<li>hasPart[A]</li>
<li>standsInFor[A]</li>
<li>hasPrivatePart[A]</li>
</ul><p>Macros still to do:</p>

<ul>
<li>mock[A]

<ul>
<li>have initial implementation of easyMock[A]. need to generalize</li>
</ul>
</li>
</ul><p>Other TODO items:</p>

<ul>
<li>cull TODO and FIX comments from the code</li>
<li>basic documentation</li>
<li>test/implement: A inherits from B, api[A] inherits from api[B]</li>
<li>test/implement: A inherits from B, impl[A] inherits from impl[B]</li>
<li>test/implement: A inherits from B, component[A] inherits from component[B]</li>
<li>test/implement: A has vals</li>
<li>test/implement: A has non-public, non-private decls</li>
<li>tests for type equivalence and other relations, such as:

<ul>
<li>implicitly[api[A] =:= api[A]]</li>
<li>implicitly[impl[A] &lt;:&lt; api[A]]</li>
</ul>
</li>
</ul><p>Longer term ideas:</p>

<ul>
<li>improved error messages</li>
<li>use AST and/or proxies to remove restrictions on the classes that can be congealed</li>
</ul><p>Error Messages to override:</p>

<ul>
<li>
<p>trait Bar { def bar: String = "bar" }
trait Foo extends hasDependency[Bar] { def foo: String = bar.bar }
impl[Foo]</p>

<p>object creation impossible, since method bar in trait hasDependencyOfBar of type =&gt; Bar is not defined
  new impl[Foo] {}
      ^
one error found</p>
</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Congeal maintained by <a href="https://github.com/sullivan-">sullivan-</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
